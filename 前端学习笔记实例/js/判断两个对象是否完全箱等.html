<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>判断两个对象是否完全箱等</title>
</head>

<body>
    <script type="text/javascript">
    var cmp = function(x, y) {
        // If both x and y are null or undefined and exactly the same
        if (x === y) {
            return true;
        }

        // If they are not strictly equal, they both need to be Objects
        if (!(x instanceof Object) || !(y instanceof Object)) {
            return false;
        }

        //They must have the exact same prototype chain,the closest we can do is
        //test the constructor.
        if (x.constructor !== y.constructor) {
            return false;
        }

        for (var p in x) {
            //Inherited properties were tested using x.constructor === y.constructor
            if (x.hasOwnProperty(p)) {
                // Allows comparing x[ p ] and y[ p ] when set to undefined
                if (!y.hasOwnProperty(p)) {
                    return false;
                }

                // If they have the same strict value or identity then they are equal
                if (x[p] === y[p]) {
                    continue;
                }

                // Numbers, Strings, Functions, Booleans must be strictly equal
                if (typeof(x[p]) !== "object") {
                    return false;
                }

                // Objects and Arrays must be tested recursively
                if (!Object.equals(x[p], y[p])) {
                    return false;
                }
            }
        }

        for (p in y) {
            // allows x[ p ] to be set to undefined
            if (y.hasOwnProperty(p) && !x.hasOwnProperty(p)) {
                return false;
            }
        }
        return true;
    };
    var objA = {
        a: '123',
        b: '456'
    };
    var objB = {
        a: '123',
        b: '000'
    };
   // var isEqual = cmp(objA, objB);
    //console.log(isEqual); // false 不相同
    var oA = {
        name: "renlei",
        time: "111"
    }
    var oB = {
        name: "renlei",
        time: "111"
    }
    var a = cmp(oA, oB);
    console.log(a);
    var two = { "-185830230419402552883262732767100": { "1": 1, "2": 0, "4": 0, "5": 0, "7": 0, "8": 0, "9": 0, "10": 0, "11": 0, "13": 0, "14": 0, "15": 0, "16": 0, "17": 0, "18": 0, "19": 0, "20": 0, "21": 0 }, "-17681036081326610100": { "1": 6, "2": 0, "4": 0, "5": 0, "7": 0, "8": 0, "9": 0, "10": 0, "11": 0, "13": 0, "14": 0, "15": 0, "16": 0, "17": 0, "18": 0, "19": 0, "20": 0, "21": 0 }, "-1647038417-16435555523268932689100": { "1": 1, "2": 0, "4": 0, "5": 0, "7": 0, "8": 0, "9": 0, "10": 0, "11": 0, "13": 0, "14": 0, "15": 0, "16": 0, "17": 0, "18": 0, "19": 0, "20": 0, "21": 0 }, "-12503200561325310100": { "1": 9, "2": 0, "4": 0, "5": 0, "7": 0, "8": 0, "9": 0, "10": 0, "11": 0, "13": 0, "14": 0, "15": 0, "16": 0, "17": 0, "18": 0, "19": 0, "20": 0, "21": 0 }, "-1043496913-10400140483266732667100": { "1": 1, "2": 0, "4": 0, "5": 0, "7": 0, "8": 0, "9": 0, "10": 0, "11": 0, "13": 0, "14": 0, "15": 0, "16": 0, "17": 0, "18": 0, "19": 0, "20": 0, "21": 0 }, "-8408961841325190100": { "1": 1, "2": 0, "4": 0, "5": 0, "7": 0, "8": 0, "9": 0, "10": 0, "11": 0, "13": 0, "14": 0, "15": 0, "16": 0, "17": 0, "18": 0, "19": 0, "20": 0, "21": 0 }, "00000": { "1": 0, "2": 0, "4": 0, "5": 0, "7": 0, "8": 0, "9": 0, "10": 0, "11": 0, "13": 0, "14": 0, "15": 0, "16": 4, "17": 0, "18": 0, "19": 0, "20": 0, "21": 0 }, "065610101": { "1": 0, "2": 0, "4": 0, "5": 0, "7": 0, "8": 0, "9": 0, "10": 0, "11": 0, "13": 0, "14": 0, "15": 0, "16": 0, "17": 0, "18": 0, "19": 0, "20": 0, "21": 13 }, "065610100": { "1": 0, "2": 0, "4": 0, "5": 0, "7": 0, "8": 0, "9": 0, "10": 0, "11": 0, "13": 0, "14": 0, "15": 0, "16": 0, "17": 0, "18": 0, "19": 0, "20": 0, "21": 38 }, "0000100": { "1": 3, "2": 0, "4": 0, "5": 0, "7": 0, "8": 0, "9": 0, "10": 0, "11": 0, "13": 0, "14": 0, "15": 0, "16": 0, "17": 0, "18": 0, "19": 0, "20": 0, "21": 0 }, "0033224": { "1": 0, "2": 0, "4": 0, "5": 0, "7": 0, "8": 0, "9": 0, "10": 0, "11": 0, "13": 0, "14": 0, "15": 0, "16": 0, "17": 0, "18": 2, "19": 0, "20": 0, "21": 0 }, "065610105": { "1": 0, "2": 0, "4": 0, "5": 9, "7": 0, "8": 0, "9": 0, "10": 0, "11": 0, "13": 0, "14": 0, "15": 0, "16": 0, "17": 0, "18": 0, "19": 0, "20": 0, "21": 0 }, "065610106": { "1": 0, "2": 0, "4": 0, "5": 22, "7": 0, "8": 0, "9": 0, "10": 0, "11": 0, "13": 0, "14": 0, "15": 0, "16": 0, "17": 0, "18": 0, "19": 0, "20": 0, "21": 0 }, "065610114": { "1": 0, "2": 0, "4": 0, "5": 22, "7": 0, "8": 0, "9": 0, "10": 0, "11": 0, "13": 0, "14": 0, "15": 0, "16": 0, "17": 0, "18": 0, "19": 0, "20": 0, "21": 0 }, "129518561459095296032719100": { "1": 3, "2": 0, "4": 0, "5": 0, "7": 0, "8": 0, "9": 0, "10": 0, "11": 0, "13": 0, "14": 0, "15": 0, "16": 0, "17": 0, "18": 0, "19": 0, "20": 0, "21": 0 }, "25887024-1646602496032729100": { "1": 1, "2": 0, "4": 0, "5": 0, "7": 0, "8": 0, "9": 0, "10": 0, "11": 0, "13": 0, "14": 0, "15": 0, "16": 0, "17": 0, "18": 0, "19": 0, "20": 0, "21": 0 }, "29057328-586451200032569100": { "1": 3, "2": 0, "4": 0, "5": 0, "7": 0, "8": 0, "9": 0, "10": 0, "11": 0, "13": 0, "14": 0, "15": 0, "16": 0, "17": 0, "18": 0, "19": 0, "20": 0, "21": 0 }, "34390320-1945417984032757100": { "1": 2, "2": 0, "4": 0, "5": 0, "7": 0, "8": 0, "9": 0, "10": 0, "11": 0, "13": 0, "14": 0, "15": 0, "16": 0, "17": 0, "18": 0, "19": 0, "20": 0, "21": 0 }, "56708336567083523276432764100": { "1": 1, "2": 0, "4": 0, "5": 0, "7": 0, "8": 0, "9": 0, "10": 0, "11": 0, "13": 0, "14": 0, "15": 0, "16": 0, "17": 0, "18": 0, "19": 0, "20": 0, "21": 0 }, "8496049361325660100": { "1": 5, "2": 0, "4": 0, "5": 0, "7": 0, "8": 0, "9": 0, "10": 0, "11": 0, "13": 0, "14": 0, "15": 0, "16": 0, "17": 0, "18": 0, "19": 0, "20": 0, "21": 0 }, "9374559441325730100": { "1": 3, "2": 0, "4": 0, "5": 0, "7": 0, "8": 0, "9": 0, "10": 0, "11": 0, "13": 0, "14": 0, "15": 0, "16": 0, "17": 0, "18": 0, "19": 0, "20": 0, "21": 0 }, "11834698961325750100": { "1": 9, "2": 0, "4": 0, "5": 0, "7": 0, "8": 0, "9": 0, "10": 0, "11": 0, "13": 0, "14": 0, "15": 0, "16": 0, "17": 0, "18": 0, "19": 0, "20": 0, "21": 0 }, "12046583301226404704327243276424": { "1": 3, "2": 0, "4": 0, "5": 0, "7": 0, "8": 0, "9": 0, "10": 0, "11": 0, "13": 0, "14": 0, "15": 0, "16": 0, "17": 0, "18": 0, "19": 0, "20": 0, "21": 0 } }
    var one = { "-185830230419402552883262732767100": { "1": 1, "2": 0, "4": 0, "5": 0, "7": 0, "8": 0, "9": 0, "10": 0, "11": 0, "13": 0, "14": 0, "15": 0, "16": 0, "17": 0, "18": 0, "19": 0, "20": 0, "21": 0 }, "-17681036081326610100": { "1": 6, "2": 0, "4": 0, "5": 0, "7": 0, "8": 0, "9": 0, "10": 0, "11": 0, "13": 0, "14": 0, "15": 0, "16": 0, "17": 0, "18": 0, "19": 0, "20": 0, "21": 0 }, "-1647038417-16435555523268932689100": { "1": 1, "2": 0, "4": 0, "5": 0, "7": 0, "8": 0, "9": 0, "10": 0, "11": 0, "13": 0, "14": 0, "15": 0, "16": 0, "17": 0, "18": 0, "19": 0, "20": 0, "21": 0 }, "-12503200561325310100": { "1": 9, "2": 0, "4": 0, "5": 0, "7": 0, "8": 0, "9": 0, "10": 0, "11": 0, "13": 0, "14": 0, "15": 0, "16": 0, "17": 0, "18": 0, "19": 0, "20": 0, "21": 0 }, "-1043496913-10400140483266732667100": { "1": 1, "2": 0, "4": 0, "5": 0, "7": 0, "8": 0, "9": 0, "10": 0, "11": 0, "13": 0, "14": 0, "15": 0, "16": 0, "17": 0, "18": 0, "19": 0, "20": 0, "21": 0 }, "-8408961841325190100": { "1": 1, "2": 0, "4": 0, "5": 0, "7": 0, "8": 0, "9": 0, "10": 0, "11": 0, "13": 0, "14": 0, "15": 0, "16": 0, "17": 0, "18": 0, "19": 0, "20": 0, "21": 0 }, "00000": { "0": null, "1": 0, "2": 0, "4": 0, "5": 0, "7": 7, "8": 0, "9": 0, "10": 0, "11": 0, "13": 0, "14": 0, "15": 63, "16": 4, "17": 0, "18": 0, "19": 0, "20": 0, "21": 0, "-1": null }, "065610101": { "0": null, "1": 13, "2": 0, "4": 0, "5": 0, "7": 2, "8": 0, "9": 12, "10": 0, "11": 0, "13": 1, "14": 0, "15": 0, "16": 0, "17": 0, "18": 0, "19": 0, "20": 0, "21": 13, "-1": null }, "065610100": { "0": null, "1": 330, "2": 0, "4": 142, "5": 102, "7": 24, "8": 3, "9": 0, "10": 0, "11": 0, "12": null, "13": 9, "14": 0, "15": 0, "16": 0, "17": 44, "18": 6, "19": 0, "20": 0, "21": 38 }, "0000100": { "1": 3, "2": 0, "4": 0, "5": 0, "7": 0, "8": 0, "9": 0, "10": 0, "11": 0, "13": 0, "14": 0, "15": 0, "16": 0, "17": 0, "18": 0, "19": 0, "20": 0, "21": 0 }, "0033224": { "1": 4, "2": 0, "4": 14, "5": 14, "7": 0, "8": 3, "9": 0, "10": 0, "11": 0, "13": 0, "14": 0, "15": 0, "16": 0, "17": 0, "18": 2, "19": 0, "20": 0, "21": 0 }, "065610105": { "1": 4, "2": 0, "4": 10, "5": 9, "7": 0, "8": 0, "9": 0, "10": 0, "11": 0, "13": 0, "14": 0, "15": 0, "16": 0, "17": 0, "18": 0, "19": 0, "20": 0, "21": 0 }, "065610106": { "1": 6, "2": 0, "4": 23, "5": 22, "7": 0, "8": 0, "9": 0, "10": 0, "11": 0, "13": 0, "14": 0, "15": 0, "16": 0, "17": 0, "18": 0, "19": 0, "20": 0, "21": 0 }, "065610114": { "1": 4, "2": 0, "4": 8, "5": 22, "7": 0, "8": 0, "9": 0, "10": 0, "11": 0, "13": 0, "14": 0, "15": 0, "16": 0, "17": 0, "18": 0, "19": 0, "20": 0, "21": 0 }, "129518561459095296032719100": { "1": 3, "2": 0, "4": 0, "5": 0, "7": 0, "8": 0, "9": 0, "10": 0, "11": 0, "13": 0, "14": 0, "15": 0, "16": 0, "17": 0, "18": 0, "19": 0, "20": 0, "21": 0 }, "25887024-1646602496032729100": { "1": 1, "2": 0, "4": 0, "5": 0, "7": 0, "8": 0, "9": 0, "10": 0, "11": 0, "13": 0, "14": 0, "15": 0, "16": 0, "17": 0, "18": 0, "19": 0, "20": 0, "21": 0 }, "29057328-586451200032569100": { "1": 3, "2": 0, "4": 0, "5": 0, "7": 0, "8": 0, "9": 0, "10": 0, "11": 0, "13": 0, "14": 0, "15": 0, "16": 0, "17": 0, "18": 0, "19": 0, "20": 0, "21": 0 }, "34390320-1945417984032757100": { "1": 2, "2": 0, "4": 0, "5": 0, "7": 0, "8": 0, "9": 0, "10": 0, "11": 0, "13": 0, "14": 0, "15": 0, "16": 0, "17": 0, "18": 0, "19": 0, "20": 0, "21": 0 }, "56708336567083523276432764100": { "1": 1, "2": 0, "4": 0, "5": 0, "7": 0, "8": 0, "9": 0, "10": 0, "11": 0, "13": 0, "14": 0, "15": 0, "16": 0, "17": 0, "18": 0, "19": 0, "20": 0, "21": 0 }, "8496049361325660100": { "1": 5, "2": 0, "4": 0, "5": 0, "7": 0, "8": 0, "9": 0, "10": 0, "11": 0, "13": 0, "14": 0, "15": 0, "16": 0, "17": 0, "18": 0, "19": 0, "20": 0, "21": 0 }, "9374559441325730100": { "1": 3, "2": 0, "4": 0, "5": 0, "7": 0, "8": 0, "9": 0, "10": 0, "11": 0, "13": 0, "14": 0, "15": 0, "16": 0, "17": 0, "18": 0, "19": 0, "20": 0, "21": 0 }, "11834698961325750100": { "1": 9, "2": 0, "4": 0, "5": 0, "7": 0, "8": 0, "9": 0, "10": 0, "11": 0, "13": 0, "14": 0, "15": 0, "16": 0, "17": 0, "18": 0, "19": 0, "20": 0, "21": 0 }, "12046583301226404704327243276424": { "1": 3, "2": 0, "4": 0, "5": 0, "7": 0, "8": 0, "9": 0, "10": 0, "11": 0, "13": 0, "14": 0, "15": 0, "16": 0, "17": 0, "18": 0, "19": 0, "20": 0, "21": 0 } }

    //isEqual：判断两个对象是否键值对应相等
    function isEqual(a, b) {
        //如果a和b本来就全等
        if (a === b) {
            //判断是否为0和-0
            return a !== 0 || 1 / a === 1 / b;
        }
        //判断是否为null和undefined
        if (a == null || b == null) {
            return a === b;
        }
        //接下来判断a和b的数据类型
        var classNameA = toString.call(a),
            classNameB = toString.call(b);
        //如果数据类型不相等，则返回false
        if (classNameA !== classNameB) {
            return false;
        }
        //如果数据类型相等，再根据不同数据类型分别判断
        switch (classNameA) {
            case '[object RegExp]':
            case '[object String]':
                //进行字符串转换比较
                return '' + a === '' + b;
            case '[object Number]':
                //进行数字转换比较,判断是否为NaN
                if (+a !== +a) {
                    return +b !== +b;
                }
                //判断是否为0或-0
                return +a === 0 ? 1 / +a === 1 / b : +a === +b;
            case '[object Date]':
            case '[object Boolean]':
                return +a === +b;
        }
        //如果是对象类型
        if (classNameA == '[object Object]') {
            //获取a和b的属性长度
            var propsA = Object.getOwnPropertyNames(a),
                propsB = Object.getOwnPropertyNames(b);
            if (propsA.length != propsB.length) {
                return false;
            }
            for (var i = 0; i < propsA.length; i++) {
                var propName = propsA[i];
                //如果对应属性对应值不相等，则返回false
                if (a[propName] !== b[propName]) {
                    return false;
                }
            }
            return true;
        }
        //如果是数组类型
        if (classNameA == '[object Array]') {
            if (a.toString() == b.toString()) {
                return true;
            }
            return false;
        }
    }
    var b = isEqual(two,one);
    console.log(b);
    </script>
</body>

</html>